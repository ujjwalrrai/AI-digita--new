2025-03-27 20:12:00,811 - INFO: Received campaign input: {'campaign_type': 'Email', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 20:12:00,815 - INFO: Returning 2 recommendations
2025-03-27 20:18:36,721 - INFO: Received campaign input: {'campaign_type': 'Email', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 20:18:36,796 - INFO: Returning 2 recommendations
2025-03-27 20:18:41,072 - INFO: Received campaign input: {'campaign_type': 'Search', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 20:18:41,073 - INFO: Returning 2 recommendations
2025-03-27 20:18:43,127 - INFO: Received campaign input: {'campaign_type': 'Search', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 20:18:43,129 - INFO: Returning 2 recommendations
2025-03-27 20:24:43,972 - ERROR: Error loading ML model: [Errno 2] No such file or directory: 'campaign_model.pkl'
2025-03-27 20:33:10,397 - INFO: Successfully loaded ML model from: model\campaign_model.pkl
2025-03-27 20:33:42,802 - INFO: Received campaign input: {'campaign_type': 'Social Media', 'customer_segment': 'Outdoor Adventurers', 'location': 'Chicago', 'language': 'German', 'duration_days': 30, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 20:33:42,804 - ERROR: Unexpected error: 'dict' object has no attribute 'predict'
2025-03-27 20:33:42,809 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 139, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 96, in generate_recommendations
    prediction = model.predict(input_features)
                 ^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'predict'

2025-03-27 20:35:52,747 - INFO: Successfully loaded ML model from: model\campaign_model.pkl
2025-03-27 20:35:58,594 - INFO: Successfully loaded ML model from: model\campaign_model.pkl
2025-03-27 20:36:20,561 - ERROR: Error loading ML model: [Errno 2] No such file or directory: 'campaign_model.pkl'
2025-03-27 20:36:41,126 - ERROR: Error loading ML model: [Errno 2] No such file or directory: './campaign_model.pkl'
2025-03-27 20:36:49,354 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 20:37:17,388 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 20:38:07,747 - INFO: Received campaign input: {'campaign_type': 'Email', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 20:38:07,748 - ERROR: Unexpected error: 'dict' object has no attribute 'predict'
2025-03-27 20:38:07,753 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 134, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 91, in generate_recommendations
    prediction = model.predict(input_features)
                 ^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'predict'

2025-03-27 20:46:31,211 - INFO: Received campaign input: {'campaign_type': 'Email', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 20:46:31,213 - WARNING: Preprocessor model might not support `.transform()`. Skipping preprocessing.
2025-03-27 20:46:31,214 - ERROR: Unexpected error: X has 4 features, but ColumnTransformer is expecting 9 features as input.
2025-03-27 20:46:31,318 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 149, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 107, in generate_recommendations
    predicted_conversion_rate = models["conversion"].predict(input_features)[0]
                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\pipeline.py", line 787, in predict
    Xt = transform.transform(Xt)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\_set_output.py", line 319, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\compose\_column_transformer.py", line 1094, in transform
    _check_n_features(self, X, reset=False)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 2829, in _check_n_features
    raise ValueError(
    ...<2 lines>...
    )
ValueError: X has 4 features, but ColumnTransformer is expecting 9 features as input.

2025-03-27 21:10:19,616 - INFO: Received campaign input: {'campaign_type': 'email', 'customer_segment': 'men', 'location': 'chicago', 'language': 'english', 'duration_days': 25, 'conversion_weight': 5.0, 'roi_weight': 6.0, 'engagement_weight': 8.0}
2025-03-27 21:10:19,638 - WARNING: Preprocessor model might not support `.transform()`. Skipping preprocessing.
2025-03-27 21:10:19,653 - ERROR: Unexpected error: X has 4 features, but ColumnTransformer is expecting 9 features as input.
2025-03-27 21:10:19,665 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 149, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 107, in generate_recommendations
    predicted_conversion_rate = models["conversion"].predict(input_features)[0]
                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\pipeline.py", line 787, in predict
    Xt = transform.transform(Xt)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\_set_output.py", line 319, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\compose\_column_transformer.py", line 1094, in transform
    _check_n_features(self, X, reset=False)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 2829, in _check_n_features
    raise ValueError(
    ...<2 lines>...
    )
ValueError: X has 4 features, but ColumnTransformer is expecting 9 features as input.

2025-03-27 21:15:31,143 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 21:15:31,171 - ERROR: Preprocessing error: This ColumnTransformer instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.
2025-03-27 21:15:31,184 - ERROR: Unexpected error: 500: Preprocessing failed: This ColumnTransformer instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.
2025-03-27 21:15:31,203 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 112, in generate_recommendations
    input_features = models["preprocessor"].transform(input_data)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\_set_output.py", line 319, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\compose\_column_transformer.py", line 1060, in transform
    check_is_fitted(self)
    ~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 1757, in check_is_fitted
    raise NotFittedError(msg % {"name": type(estimator).__name__})
sklearn.exceptions.NotFittedError: This ColumnTransformer instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 164, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 115, in generate_recommendations
    raise HTTPException(status_code=500, detail=f"Preprocessing failed: {e}")
fastapi.exceptions.HTTPException: 500: Preprocessing failed: This ColumnTransformer instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.

2025-03-27 21:17:51,487 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 21:17:51,491 - WARNING: Failed to use loaded preprocessor: This ColumnTransformer instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.. Creating default preprocessor.
2025-03-27 21:17:52,069 - ERROR: Prediction error: X has 8 features, but ColumnTransformer is expecting 9 features as input.
2025-03-27 21:17:52,070 - ERROR: Unexpected error: 500: Prediction failed: X has 8 features, but ColumnTransformer is expecting 9 features as input.
2025-03-27 21:17:52,078 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 148, in generate_recommendations
    predicted_conversion_rate = models["conversion"].predict(input_features)[0]
                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\pipeline.py", line 787, in predict
    Xt = transform.transform(Xt)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\_set_output.py", line 319, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\compose\_column_transformer.py", line 1094, in transform
    _check_n_features(self, X, reset=False)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 2829, in _check_n_features
    raise ValueError(
    ...<2 lines>...
    )
ValueError: X has 8 features, but ColumnTransformer is expecting 9 features as input.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 193, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 153, in generate_recommendations
    raise HTTPException(status_code=500, detail=f"Prediction failed: {e}")
fastapi.exceptions.HTTPException: 500: Prediction failed: X has 8 features, but ColumnTransformer is expecting 9 features as input.

2025-03-27 21:24:13,426 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 21:24:13,430 - WARNING: Preprocessor model might not support `.transform()`. Skipping preprocessing.
2025-03-27 21:24:13,431 - ERROR: Unexpected error: X has 4 features, but ColumnTransformer is expecting 9 features as input.
2025-03-27 21:24:13,448 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 149, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 107, in generate_recommendations
    predicted_conversion_rate = models["conversion"].predict(input_features)[0]
                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\pipeline.py", line 787, in predict
    Xt = transform.transform(Xt)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\_set_output.py", line 319, in wrapped
    data_to_wrap = f(self, X, *args, **kwargs)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\compose\_column_transformer.py", line 1094, in transform
    _check_n_features(self, X, reset=False)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 2829, in _check_n_features
    raise ValueError(
    ...<2 lines>...
    )
ValueError: X has 4 features, but ColumnTransformer is expecting 9 features as input.

2025-03-27 21:24:28,959 - ERROR: Error loading ML model: [Errno 2] No such file or directory: './campaign_model.pkl'
2025-03-27 21:25:13,908 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 21:25:13,909 - INFO: Returning 2 recommendations
2025-03-27 21:35:04,517 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 21:35:20,571 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 21:35:20,573 - ERROR: Model Prediction Error: 'dict' object has no attribute 'predict'
2025-03-27 21:35:20,574 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-27 21:35:20,580 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 92, in generate_recommendations
    prediction = model.predict(input_features)
                 ^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'predict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 138, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 126, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-27 21:38:18,107 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 22:39:51,195 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 22:40:26,569 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 22:40:26,571 - ERROR: Model Prediction Error: This RandomForestRegressor instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.
2025-03-27 22:40:26,571 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-27 22:40:26,582 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 92, in generate_recommendations
    prediction = model.predict(input_features)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 1064, in predict
    check_is_fitted(self)
    ~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 1757, in check_is_fitted
    raise NotFittedError(msg % {"name": type(estimator).__name__})
sklearn.exceptions.NotFittedError: This RandomForestRegressor instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 138, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 126, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-27 22:49:09,664 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 22:49:18,915 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 22:49:26,425 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 22:49:35,728 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 22:50:28,893 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 22:50:28,951 - ERROR: Model Prediction Error: This RandomForestRegressor instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.
2025-03-27 22:50:28,952 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-27 22:50:28,979 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 92, in generate_recommendations
    prediction = model.predict(input_features)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 1064, in predict
    check_is_fitted(self)
    ~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 1757, in check_is_fitted
    raise NotFittedError(msg % {"name": type(estimator).__name__})
sklearn.exceptions.NotFittedError: This RandomForestRegressor instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 138, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 126, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-27 23:30:46,192 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 23:30:46,351 - ERROR: Model Prediction Error: This RandomForestRegressor instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.
2025-03-27 23:30:46,353 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-27 23:30:46,385 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 92, in generate_recommendations
    prediction = model.predict(input_features)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\ensemble\_forest.py", line 1064, in predict
    check_is_fitted(self)
    ~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sklearn\utils\validation.py", line 1757, in check_is_fitted
    raise NotFittedError(msg % {"name": type(estimator).__name__})
sklearn.exceptions.NotFittedError: This RandomForestRegressor instance is not fitted yet. Call 'fit' with appropriate arguments before using this estimator.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 138, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 126, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-27 23:34:16,487 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-27 23:34:19,836 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-27 23:34:20,197 - ERROR: Model Prediction Error: 'dict' object has no attribute 'predict'
2025-03-27 23:34:20,198 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-27 23:34:20,205 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 92, in generate_recommendations
    prediction = model.predict(input_features)
                 ^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'predict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 138, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 126, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-29 22:43:34,625 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-29 22:46:19,990 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-29 22:46:19,991 - ERROR: Model Prediction Error: 'dict' object has no attribute 'predict'
2025-03-29 22:46:19,992 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-29 22:46:20,015 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 92, in generate_recommendations
    prediction = model.predict(input_features)
                 ^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'predict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 138, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 126, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-29 22:46:56,717 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-29 22:47:12,375 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-29 22:47:12,377 - ERROR: Model Prediction Error: 'dict' object has no attribute 'predict'
2025-03-29 22:47:12,377 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-29 22:47:12,381 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 92, in generate_recommendations
    prediction = model.predict(input_features)
                 ^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'predict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 138, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 126, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-29 22:48:38,685 - INFO: Successfully loaded ML model: campaign_model.pkl
2025-03-29 22:48:45,889 - INFO: Received campaign input: {'campaign_type': 'string', 'customer_segment': 'string', 'location': 'string', 'language': 'string', 'duration_days': 0, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-29 22:48:45,891 - ERROR: Model Prediction Error: 'dict' object has no attribute 'predict'
2025-03-29 22:48:45,891 - ERROR: Unexpected error: 500: Error in model prediction
2025-03-29 22:48:45,904 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 93, in generate_recommendations
    prediction = model.predict(input_features)
                 ^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'predict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 139, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 127, in generate_recommendations
    raise HTTPException(status_code=500, detail="Error in model prediction")
fastapi.exceptions.HTTPException: 500: Error in model prediction

2025-03-29 22:51:50,385 - ERROR: Error loading ML model: Loaded object is not a valid ML model
2025-03-29 23:05:02,478 - ERROR: Error loading ML model: Loaded object is not a valid ML model
2025-03-29 23:08:06,417 - ERROR: Error loading ML model: Loaded object is not a valid ML model
2025-03-29 23:08:22,918 - ERROR: Error loading ML model: Loaded object is not a valid ML model
2025-03-30 00:05:55,071 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 140, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 81, in generate_recommendations
    raise HTTPException(status_code=500, detail="ML model not available")
fastapi.exceptions.HTTPException: 500: ML model not available

2025-03-30 00:33:18,277 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 140, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 81, in generate_recommendations
    raise HTTPException(status_code=500, detail="ML model not available")
fastapi.exceptions.HTTPException: 500: ML model not available

2025-03-30 11:30:41,232 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 142, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 83, in generate_recommendations
    raise HTTPException(status_code=500, detail="ML model not available")
fastapi.exceptions.HTTPException: 500: ML model not available

2025-03-30 13:23:47,233 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 159, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 107, in generate_recommendations
    'Customer_Segment': campaign.customersegment,
                        ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'CampaignInput' object has no attribute 'customersegment'. Did you mean: 'customer_segment'?

2025-03-30 13:25:05,656 - ERROR: Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 159, in optimize_campaign
    recommendations = generate_recommendations(campaign)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 107, in generate_recommendations
    'Customer_Segment': campaign.customersegment,
                        ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\pydantic\main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'CampaignInput' object has no attribute 'customersegment'. Did you mean: 'customer_segment'?

2025-03-30 13:33:20,549 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 13:33:49,026 - INFO: Received campaign input: {'campaign_type': 'Email', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'month': None, 'year': None, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0}
2025-03-30 13:33:50,014 - INFO: Generated 30 recommendations
2025-03-30 13:48:46,255 - INFO: Received campaign input: {'campaign_type': 'Social Media', 'customer_segment': 'Foodies', 'location': 'Chicago', 'language': 'English', 'duration_days': 79, 'month': None, 'year': None, 'conversion_weight': 2.0, 'roi_weight': 0.7, 'engagement_weight': 1.6}
2025-03-30 13:48:47,268 - INFO: Generated 30 recommendations
2025-03-30 13:50:31,919 - INFO: Received campaign input: {'campaign_type': 'Social Media', 'customer_segment': 'Foodies', 'location': 'Chicago', 'language': 'English', 'duration_days': 79, 'month': None, 'year': None, 'conversion_weight': 2.0, 'roi_weight': 2.0, 'engagement_weight': 2.0}
2025-03-30 13:50:33,085 - INFO: Generated 30 recommendations
2025-03-30 14:10:21,209 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:12:09,328 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:12:17,710 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:12:25,295 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:12:40,299 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:12:54,873 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:13:00,325 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:13:10,642 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:22:08,579 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:22:17,972 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:22:59,538 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:33:36,549 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:39:36,402 - INFO: Successfully loaded ML models and preprocessor
2025-03-30 14:39:52,974 - ERROR: Unexpected error: (psycopg2.errors.InsufficientPrivilege) permission denied for table campaign_inputs

[SQL: INSERT INTO campaign_inputs (campaign_type, customer_segment, location, language, duration_days, month, year, conversion_weight, roi_weight, engagement_weight, created_at) VALUES (%(campaign_type)s, %(customer_segment)s, %(location)s, %(language)s, %(duration_days)s, %(month)s, %(year)s, %(conversion_weight)s, %(roi_weight)s, %(engagement_weight)s, %(created_at)s) RETURNING campaign_inputs.id]
[parameters: {'campaign_type': 'Email', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'month': None, 'year': None, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0, 'created_at': datetime.datetime(2025, 3, 30, 9, 9, 52, 921943)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.InsufficientPrivilege: permission denied for table campaign_inputs


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\Backend\main.py", line 223, in optimize_campaign
    db.commit()
    ~~~~~~~~~^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2032, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4353, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4488, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 4449, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dell\Desktop\new ai\marketing-campaign-optimizer\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.InsufficientPrivilege) permission denied for table campaign_inputs

[SQL: INSERT INTO campaign_inputs (campaign_type, customer_segment, location, language, duration_days, month, year, conversion_weight, roi_weight, engagement_weight, created_at) VALUES (%(campaign_type)s, %(customer_segment)s, %(location)s, %(language)s, %(duration_days)s, %(month)s, %(year)s, %(conversion_weight)s, %(roi_weight)s, %(engagement_weight)s, %(created_at)s) RETURNING campaign_inputs.id]
[parameters: {'campaign_type': 'Email', 'customer_segment': 'Health & Wellness', 'location': 'New York', 'language': 'English', 'duration_days': 30, 'month': None, 'year': None, 'conversion_weight': 1.0, 'roi_weight': 1.0, 'engagement_weight': 1.0, 'created_at': datetime.datetime(2025, 3, 30, 9, 9, 52, 921943)}]
(Background on this error at: https://sqlalche.me/e/20/f405)

2025-03-30 14:52:10,176 - INFO: Saved campaign input to database with ID: 1
2025-03-30 14:52:13,033 - INFO: Recommendation generation took 2.85 seconds
2025-03-30 14:55:35,038 - INFO: Saved campaign input to database with ID: 2
2025-03-30 14:55:36,219 - INFO: Recommendation generation took 1.18 seconds
